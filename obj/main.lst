ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 ;;-----------------------------LICENSE NOTICE-----------------------------------------------------
                              2 ;;  This file is part of Amstrad CPC videogame "RetroDance"
                              3 ;;  Copyright (C) 2018 WastedHorchata / Luis Gonzalez Aracil
                              4 ;;  Copyright (C) 2015-2016 ronaldo / Fremos / Cheesetea / ByteRealms (@FranGallegoBR)
                              5 ;;
                              6 ;;  This program is free software: you can redistribute it and/or modify
                              7 ;;  it under the terms of the GNU Lesser General Public License as published by
                              8 ;;  the Free Software Foundation, either version 3 of the License, or
                              9 ;;  (at your option) any later version.
                             10 ;;
                             11 ;;  This program is distributed in the hope that it will be useful,
                             12 ;;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                             13 ;;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                             14 ;;  GNU Lesser General Public License for more details.
                             15 ;;
                             16 ;;  You should have received a copy of the GNU Lesser General Public License
                             17 ;;  along with this program.  If not, see <http://www.gnu.org/licenses/>.
                             18 ;;-----------------------------LICENSE NOTICE-----------------------------------------------------
                             19 
                             20 ;;=========================================
                             21 ;; MAIN FILE
                             22 ;;=========================================
                             23 .area _DATA
                             24 .area _CODE
                             25 
                             26 ;;=========================================
                             27 ;; INCLUDE AREA
                             28 ;;=========================================
                             29 .globl cpct_disableFirmware_asm		;;unique use cpct function
                             30 .globl cpct_setVideoMode_asm		;;unique use cpct function
                             31 
                             32 ;;=========================================
                             33 ;;=========================================
                             34 ;; MAIN
                             35 ;;=========================================
                             36 ;;=========================================
                             37 
                             38 ;;=============================================
                             39 ;; Main function
                             40 ;; INPUT:		none
                             41 ;; DESTROYS:	all
                             42 ;; OUTPUT:		none
                             43 ;;=============================================
   0000                      44 _main::
                             45 
   0000 CD 00 00      [17]   46 	call cpct_disableFirmware_asm	;;disable firmware 
                             47 
                             48 	;ld hl, #isr	;;pointer to function
                             49 	;call cpct_setInterruptHandler_asm ;;set interruption handler 
                             50 
   0003 0E 00         [ 7]   51 	ld c, #0
   0005 CD 00 00      [17]   52 	call cpct_setVideoMode_asm	;;set video mode to 0
                             53 
                             54 	;ld hl, #_sprite_palette
                             55 	;ld de, #16
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 2.
Hexadecimal [16-Bits]



                             56 	;call cpct_setPalette_asm		;;change the palette
                             57 
                             58 	;;MAIN lOOP
   0008                      59 	main_loop::
                             60 
                             61 		;;========================================
                             62 		;; ERASE 
                             63 		;;========================================
                             64 		
                             65 	
                             66 		;;========================================
                             67 		;; UPDATE
                             68 		;;========================================
                             69 		
                             70 	
                             71 		;;========================================
                             72 		;; DRAW
                             73 		;;========================================
                             74 
   0008 18 FE         [12]   75 	jr main_loop 		;; return to main_loop
